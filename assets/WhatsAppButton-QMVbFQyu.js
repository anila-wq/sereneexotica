import{j as e,r as l,_ as C}from"./index-CjlqJDd2.js";import{c as h,X as g}from"./icons-OZGG-tYg.js";import{e as D,D as E,a as S,b as A,c as W,d as _,L as p,I as b,B as I}from"./label-DrpubDr1.js";import{toast as m}from"./sonner-DZWhZMWb.js";function T({className:c,...n}){return e.jsx("textarea",{"data-slot":"textarea",className:D("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",c),...n})}const P=()=>{const[c,n]=l.useState(!1),[f,o]=l.useState(!0),[t,s]=l.useState({name:"",phone:"",message:""});l.useEffect(()=>{let a;const r=()=>{o(!1),clearTimeout(a),a=setTimeout(()=>{o(!0)},150)},i=d=>{d.target.closest('a[href^="#"]')&&(o(!1),setTimeout(()=>{o(!0)},800))};return window.addEventListener("scroll",r),document.addEventListener("click",i),()=>{window.removeEventListener("scroll",r),document.removeEventListener("click",i),clearTimeout(a)}},[]);const w=async a=>{a.preventDefault();const r=t.phone.replace(/\D/g,""),i=/^[0-9]{10}$/.test(r),d=/^91[0-9]{10}$/.test(r);if(!i&&!d){m.error("Please enter a valid 10-digit phone number");return}const{submitFormData:u}=await C(async()=>{const{submitFormData:k}=await import("./formSubmission-BM8qm8uI.js");return{submitFormData:k}},[]),x=await u({name:t.name,phone:t.phone,email:"noemail@provided.com",message:t.message||"WhatsApp Inquiry - Serene Exotica"}),y="919876543210",v=`Hello, I'm ${t.name}.
Phone: ${t.phone}

${t.message||"I am interested in Serene Exotica villa plots. Please contact me."}`,j=encodeURIComponent(v),N=`https://wa.me/${y}?text=${j}`;window.open(N,"_blank"),x.success?m.success("Your inquiry has been submitted and WhatsApp is opening...",{duration:4e3}):m.success("Opening WhatsApp...",{duration:3e3}),s({name:"",phone:"",message:""}),n(!1)};return e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>window.open("https://wa.me/919972505291","_blank"),className:`fixed bottom-24 right-6 z-50 bg-[#25D366] hover:bg-[#20bd5a] text-white rounded-full p-4 shadow-2xl transition-all duration-300 transform hover:scale-110 group ${f?"opacity-100 translate-x-0":"opacity-0 translate-x-20"}`,"aria-label":"Contact us on WhatsApp",children:[e.jsx(h,{className:"w-7 h-7"}),e.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center animate-pulse",children:"1"}),e.jsx("span",{className:"absolute right-16 top-1/2 -translate-y-1/2 bg-gray-900 text-white px-3 py-2 rounded-lg text-sm whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none",children:"Chat with us on WhatsApp"})]}),e.jsx(E,{open:c,onOpenChange:n,children:e.jsxs(S,{className:"bg-gray-900 border-gray-700 text-white max-w-md mx-auto",children:[e.jsxs(A,{children:[e.jsxs(W,{className:"text-xl font-light text-center mb-2 flex items-center justify-center gap-2",children:[e.jsx(h,{className:"w-6 h-6 text-[#25D366]"}),e.jsxs("span",{children:["Connect on ",e.jsx("span",{className:"text-[#25D366]",children:"WhatsApp"})]})]}),e.jsx(_,{className:"text-gray-400 text-center",children:"Share your details and we'll connect with you instantly"})]}),e.jsxs("form",{onSubmit:w,className:"space-y-4 mt-6",children:[e.jsxs("div",{children:[e.jsx(p,{htmlFor:"whatsapp-name",className:"text-white mb-2 block",children:"Full Name *"}),e.jsxs("div",{className:"relative",children:[e.jsx(b,{id:"whatsapp-name",type:"text",placeholder:"Enter your name",value:t.name,onChange:a=>s({...t,name:a.target.value}),className:"!bg-black border-gray-600 !text-white placeholder:text-gray-400 focus:border-[#25D366] pr-10",style:{backgroundColor:"#000000",color:"#ffffff"},required:!0}),t.name&&e.jsx("button",{type:"button",onClick:()=>s({...t,name:""}),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white transition-colors","aria-label":"Clear name",children:e.jsx(g,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{children:[e.jsx(p,{htmlFor:"whatsapp-phone",className:"text-white mb-2 block",children:"Phone Number *"}),e.jsxs("div",{className:"relative",children:[e.jsx(b,{id:"whatsapp-phone",type:"tel",placeholder:"Enter your 10-digit phone number",value:t.phone,onChange:a=>s({...t,phone:a.target.value}),className:"!bg-black border-gray-600 !text-white placeholder:text-gray-400 focus:border-[#25D366] pr-10",style:{backgroundColor:"#000000",color:"#ffffff"},required:!0}),t.phone&&e.jsx("button",{type:"button",onClick:()=>s({...t,phone:""}),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white transition-colors","aria-label":"Clear phone number",children:e.jsx(g,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{children:[e.jsx(p,{htmlFor:"whatsapp-message",className:"text-white mb-2 block",children:"Message (Optional)"}),e.jsx(T,{id:"whatsapp-message",placeholder:"Tell us how we can help you...",value:t.message,onChange:a=>s({...t,message:a.target.value}),className:"!bg-black border-gray-600 !text-white placeholder:text-gray-400 focus:border-[#25D366] min-h-[100px]",style:{backgroundColor:"#000000",color:"#ffffff"},rows:4})]}),e.jsx("div",{className:"text-xs text-gray-400 text-center",children:e.jsx("p",{children:`By clicking "Start Chat", you'll be redirected to WhatsApp`})}),e.jsxs(I,{type:"submit",className:"w-full bg-[#25D366] hover:bg-[#20bd5a] text-white font-semibold py-3 rounded-xl transition-all duration-300 transform hover:scale-[1.02] flex items-center justify-center gap-2",children:[e.jsx(h,{className:"w-5 h-5"}),"Start Chat on WhatsApp"]})]})]})})]})};export{P as default};
